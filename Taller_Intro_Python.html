
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Manos a la obra! üë®‚Äçüíª &#8212; Taller Introducci√≥n a Python</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Taller_Intro_Python';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="¬°Gracias por su atenci√≥n!" href="Gracias.html" />
    <link rel="prev" title="Oferta de cursos" href="oferta_cursos.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Taller Introducci√≥n a Python - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Taller Introducci√≥n a Python - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    !Bienvenidos!
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="python.html">¬øQu√© es Python?</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_politicas.html">¬øPor qu√© Python?</a></li>
<li class="toctree-l1"><a class="reference internal" href="casos_exito.html">Casos de √©xito</a></li>
<li class="toctree-l1"><a class="reference internal" href="oferta_cursos.html">Oferta de cursos</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Manos a la obra! üë®‚Äçüíª</a></li>
<li class="toctree-l1"><a class="reference internal" href="Gracias.html">¬°Gracias por su atenci√≥n!</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/BioAITeamLearning/Taller_introPython/blob/main/Taller_Intro_Python.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onColab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/BioAITeamLearning/Taller_introPython" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/BioAITeamLearning/Taller_introPython/issues/new?title=Issue%20on%20page%20%2FTaller_Intro_Python.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Taller_Intro_Python.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Manos a la obra! üë®‚Äçüíª</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comandos-basicos-de-python">Comandos b√°sicos de Python</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-practico-procesemos-algo-con-pandas">Ejercicio Pr√°ctico: Procesemos algo con Pandas</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#carguemos-una-base-de-datos">Carguemos una base de datos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#limpieza-de-datos">Limpieza de datos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-de-datos-en-python">Visualizaci√≥n de datos en python</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#barras">Barras</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#histograma">Histograma</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#torta">Torta</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#scatter-de-caracteristicas">Scatter de caracteristicas</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-de-datos-geograficos">Visualizaci√≥n de datos geogr√°ficos</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-de-correlacion-de-las-variables">An√°lisis de correlaci√≥n de las variables</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#visualicemos-un-poco-mejor-esto">Visualicemos un poco mejor esto</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#preparemos-todo-para-entrenar-un-modelo-de-ml">Preparemos todo para entrenar un modelo de ML</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#transformacion-de-columnas-categoricas">Transformaci√≥n de columnas categoricas</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dividamos-caracteristicas-y-variable-objetivo">Dividamos Caracteristicas y Variable Objetivo</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#entrenar-modelos-de-machine-learning">Entrenar modelos de Machine learning</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#entrenamiento-decision-tree">Entrenamiento Decision Tree</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizar-el-error-de-predicciones">Visualizar el error de predicciones</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#realicemos-un-analisis-de-relevancia">Realicemos un an√°lisis de relevancia</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#entrenamiento-random-forest">Entrenamiento Random Forest</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#realicemos-analisis-de-relevancia-del-modelo">Realicemos an√°lisis de relevancia del modelo</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#actividad">Actividad</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="manos-a-la-obra">
<h1>Manos a la obra! üë®‚Äçüíª<a class="headerlink" href="#manos-a-la-obra" title="Link to this heading">#</a></h1>
<h1>Te damos la bienvenida a Colab</h1>
<p>Si ya conoces Colab, mira este video para aprender sobre las tablas interactivas, la vista hist√≥rica de c√≥digo ejecutado y la paleta de comandos.</p>
<center>
<img src="https://miro.medium.com/v2/resize:fit:986/1*S2AyJcdw8EPcn7gwDVSBCA.png" width=400/>
</center><h1>¬øQu√© es Colab?</h1>
<p>Colab, o ‚ÄúColaboratory‚Äù, te permite escribir y ejecutar c√≥digo de Python en tu navegador, con</p>
<ul class="simple">
<li><p>Una configuraci√≥n lista para que empieces a programar</p></li>
<li><p>Acceso gratuito a GPU</p></li>
<li><p>Facilidad para compartir</p></li>
</ul>
<p>Seas <strong>estudiante</strong>, <strong>cient√≠fico de datos</strong> o <strong>investigador de IA</strong>, Colab facilita tu trabajo. Mira <a href="https://www.youtube.com/watch?v=inN8seMm7UI">este video introductorio sobre Colab</a> para obtener m√°s informaci√≥n, o bien comienza a usarlo m√°s abajo.</p>
<section id="comandos-basicos-de-python">
<h2>Comandos b√°sicos de Python<a class="headerlink" href="#comandos-basicos-de-python" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Imprimir un mensaje</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hola, mundo&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hola, mundo
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Hacer c√°lculos b√°sicos</span>
<span class="n">segundos_en_un_dia</span> <span class="o">=</span> <span class="mi">24</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span>
<span class="n">segundos_en_un_dia</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>86400
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">segundos_en_un_dia</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>int
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Variables</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>30
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Listas</span>
<span class="n">mi_lista</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mi_lista</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 2, 3, 4, 5]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Bucles</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">mi_lista</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
2
3
4
5
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Condicionales</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;x es menor que y&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;x no es menor que y&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x es menor que y
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nombre</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Ingresa tu nombre: &quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> Hola &quot;</span><span class="o">+</span><span class="n">nombre</span><span class="o">+</span><span class="s2">&quot; como est√°s?&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ingresa tu nombre: 

 Hola  como est√°s?
</pre></div>
</div>
</div>
</div>
</section>
<section id="ejercicio-practico-procesemos-algo-con-pandas">
<h2>Ejercicio Pr√°ctico: Procesemos algo con Pandas<a class="headerlink" href="#ejercicio-practico-procesemos-algo-con-pandas" title="Link to this heading">#</a></h2>
<section id="carguemos-una-base-de-datos">
<h3>Carguemos una base de datos<a class="headerlink" href="#carguemos-una-base-de-datos" title="Link to this heading">#</a></h3>
<p>El data set es el resultado de realizar un web scraping a una p√°gina web que contiene avisos de ventas de viviendas en Chile, y fue realizado con el fin de poder aprender su metodolog√≠a.</p>
<p>Los datos que contiene son los valores de √∫nicamente CASAS USADAS que se venden en la regi√≥n metropolitana de Chile y que est√°n publicado en el sitio web <a class="reference external" href="https://chilepropiedades.cl/">https://chilepropiedades.cl/</a> en la primera semana de mayo de 2020</p>
<p><a class="reference external" href="https://www.kaggle.com/datasets/gorkigonzalez/casas-usadas-rm-chile-mayo-2020/data?select=Casas+usadas+-+RM+Mayo+2020.csv">Enlance DB</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/BioAITeamLearning/Taller_introPython/main/data/Casas_RM_Mayo_2020_Con_Coordenadas.csv&quot;</span><span class="p">)</span>

<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Comuna</th>
      <th>Link</th>
      <th>Tipo_Vivienda</th>
      <th>N_Habitaciones</th>
      <th>N_Ba√±os</th>
      <th>N_Estacionamientos</th>
      <th>Total_Superficie_M2</th>
      <th>Superficie_Construida_M2</th>
      <th>Valor_UF</th>
      <th>Valor_CLP</th>
      <th>Direcci√≥n</th>
      <th>Qui√©n_Vende</th>
      <th>Corredor</th>
      <th>Latitud (Decimal)</th>
      <th>Longitud (decimal)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Calera de Tango</td>
      <td>https://chilepropiedades.cl/ver-publicacion/ve...</td>
      <td>Casa</td>
      <td>5.0</td>
      <td>6.0</td>
      <td>3</td>
      <td>5000</td>
      <td>440</td>
      <td>12.2</td>
      <td>351360000</td>
      <td>Calera de Tango, Queilen</td>
      <td>Gabriela Mellado V.</td>
      <td>Zenpro Propiedades</td>
      <td>-33.6278</td>
      <td>-70.785</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Calera de Tango</td>
      <td>https://chilepropiedades.cl/ver-publicacion/ve...</td>
      <td>Casa</td>
      <td>6.0</td>
      <td>6.0</td>
      <td>6</td>
      <td>5000</td>
      <td>430</td>
      <td>13.0</td>
      <td>374400000</td>
      <td>Calera de Tango, Queilen</td>
      <td>Gabriela Mellado V.</td>
      <td>Zenpro Propiedades</td>
      <td>-33.6278</td>
      <td>-70.785</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Calera de Tango</td>
      <td>https://chilepropiedades.cl/ver-publicacion/ve...</td>
      <td>Casa</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>No</td>
      <td>2027</td>
      <td>140</td>
      <td>10.3</td>
      <td>296640000</td>
      <td>Calera de Tango, Avenida calera de tango   con...</td>
      <td>Alonso Baeza Rivera y C√≠a. Ltda. (Kennedy)</td>
      <td>Alonso Baeza Rivera y C√≠a. Ltda. (Kennedy)</td>
      <td>-33.6278</td>
      <td>-70.785</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Calera de Tango</td>
      <td>https://chilepropiedades.cl/ver-publicacion/ve...</td>
      <td>Casa</td>
      <td>8.0</td>
      <td>6.0</td>
      <td>No</td>
      <td>5000</td>
      <td>480</td>
      <td>21.5</td>
      <td>619200000</td>
      <td>Calera de Tango, Paradero 14 1/2/5 kilometros ...</td>
      <td>RED Gesti√≥n Propiedades</td>
      <td>Red Gesti√≥n Propiedades</td>
      <td>-33.6278</td>
      <td>-70.785</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Calera de Tango</td>
      <td>https://chilepropiedades.cl/ver-publicacion/ve...</td>
      <td>Casa</td>
      <td>3.0</td>
      <td>2.0</td>
      <td>3</td>
      <td>5000</td>
      <td>196</td>
      <td>9.1</td>
      <td>262080000</td>
      <td>Calera de Tango, Condominio El Tr√©bol de Caler...</td>
      <td>Gabriela Mellado V.</td>
      <td>Zenpro Propiedades</td>
      <td>-33.6278</td>
      <td>-70.785</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Revisemos cada una de las caracteristicas.</span>
<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 1139 entries, 0 to 1138
Data columns (total 15 columns):
 #   Column                    Non-Null Count  Dtype  
---  ------                    --------------  -----  
 0   Comuna                    1139 non-null   object 
 1   Link                      1139 non-null   object 
 2   Tipo_Vivienda             1139 non-null   object 
 3   N_Habitaciones            1131 non-null   float64
 4   N_Ba√±os                   1118 non-null   float64
 5   N_Estacionamientos        1067 non-null   object 
 6   Total_Superficie_M2       1102 non-null   object 
 7   Superficie_Construida_M2  1103 non-null   object 
 8    Valor_UF                 1139 non-null   float64
 9   Valor_CLP                 1139 non-null   int64  
 10  Direcci√≥n                 1102 non-null   object 
 11  Qui√©n_Vende               1139 non-null   object 
 12  Corredor                  1139 non-null   object 
 13  Latitud (Decimal)         1139 non-null   float64
 14  Longitud (decimal)        1139 non-null   float64
dtypes: float64(5), int64(1), object(9)
memory usage: 133.6+ KB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Revisemos las muestras que son NaN en la base de datos x columna</span>
<span class="n">df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Comuna                       0
Link                         0
Tipo_Vivienda                0
N_Habitaciones               8
N_Ba√±os                     21
N_Estacionamientos          72
Total_Superficie_M2         37
Superficie_Construida_M2    36
 Valor_UF                    0
Valor_CLP                    0
Direcci√≥n                   37
Qui√©n_Vende                  0
Corredor                     0
Latitud (Decimal)            0
Longitud (decimal)           0
dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
<section id="limpieza-de-datos">
<h3>Limpieza de datos<a class="headerlink" href="#limpieza-de-datos" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Eliminemos columnas que no necesitaremos</span>
<span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># y quitemos la del enlace que no es √∫til</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;Link&#39;</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Comuna                      0
Tipo_Vivienda               0
N_Habitaciones              0
N_Ba√±os                     0
N_Estacionamientos          0
Total_Superficie_M2         0
Superficie_Construida_M2    0
 Valor_UF                   0
Valor_CLP                   0
Direcci√≥n                   0
Qui√©n_Vende                 0
Corredor                    0
Latitud (Decimal)           0
Longitud (decimal)          0
dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualizacion-de-datos-en-python">
<h3>Visualizaci√≥n de datos en python<a class="headerlink" href="#visualizacion-de-datos-en-python" title="Link to this heading">#</a></h3>
<section id="barras">
<h4>Barras<a class="headerlink" href="#barras" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Graficar la cantidad de casas por comuna</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Comuna&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;coral&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>


<span class="c1"># Agregar algunos datos a la gr√°fica resultante</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Cantidad de Propiedades por Comuna&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Comuna&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Cantidad de Propiedades&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ddddf0d74badc99adb2161c33bb3db85a9d01bba44fe21a4c1045449d79ab8f6.png" src="_images/ddddf0d74badc99adb2161c33bb3db85a9d01bba44fe21a4c1045449d79ab8f6.png" />
</div>
</div>
</section>
<section id="histograma">
<h4>Histograma<a class="headerlink" href="#histograma" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generamos la figura donde vamos a trabajar</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Usamos pandas para graficar los datos de la columna en forma de histograma</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39; Valor_UF &#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>


<span class="c1"># Agregamos informaci√≥n al gr√°fico para mejor visualizaci√≥n</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribuci√≥n de Precios en UF&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Precio en UF&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Cantidad de Propiedades&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/17fb2e83c61b5aec68687341487d9c38c74525cc742b63bb9d2badf7f210f73c.png" src="_images/17fb2e83c61b5aec68687341487d9c38c74525cc742b63bb9d2badf7f210f73c.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Graficar el histograma de la cantidad de habitaciones de las casas</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;N_Habitaciones&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;lightgreen&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>

<span class="c1"># Agregar Informaci√≥n a la im√°gen</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribuci√≥n del N√∫mero de Habitaciones&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;N√∫mero de Habitaciones&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Cantidad de Propiedades&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/cfea427d728c63a5150fb35c1673de3cd15e531e561f8a2e706b627e53b6993d.png" src="_images/cfea427d728c63a5150fb35c1673de3cd15e531e561f8a2e706b627e53b6993d.png" />
</div>
</div>
</section>
<section id="torta">
<h4>Torta<a class="headerlink" href="#torta" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculamos las frecuencias de cada tipo de vivienda</span>
<span class="n">N_habs</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;N_Habitaciones&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>

<span class="c1"># Realizamos un gr√°fico de torta</span>
<span class="n">plt</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">N_habs</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">N_habs</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">rotatelabels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># A√±adir informaci√≥n a la gr√°fica.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribuci√≥n de casas por # de habitaciones&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/7df67496ca02f4ee5e9bd326014229077e8fc207b067135e32608e85bb93c885.png" src="_images/7df67496ca02f4ee5e9bd326014229077e8fc207b067135e32608e85bb93c885.png" />
</div>
</div>
</section>
<section id="scatter-de-caracteristicas">
<h4>Scatter de caracteristicas<a class="headerlink" href="#scatter-de-caracteristicas" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pandas.plotting</span> <span class="kn">import</span> <span class="n">scatter_matrix</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Seleccionamos solo las columnas num√©ricas del DataFrame</span>
<span class="n">df_numeric</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;float64&#39;</span><span class="p">,</span> <span class="s1">&#39;int64&#39;</span><span class="p">])</span>

<span class="c1"># Crea el scatter matrix</span>
<span class="n">scatter_matrix</span><span class="p">(</span><span class="n">df_numeric</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">diagonal</span><span class="o">=</span><span class="s1">&#39;kde&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/7b3c6e5d43853986b30a7ebc579c037e80e86394582c6b1d2fdc86791207f4fa.png" src="_images/7b3c6e5d43853986b30a7ebc579c037e80e86394582c6b1d2fdc86791207f4fa.png" />
</div>
</div>
</section>
<section id="visualizacion-de-datos-geograficos">
<h4>Visualizaci√≥n de datos geogr√°ficos<a class="headerlink" href="#visualizacion-de-datos-geograficos" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>folium
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: folium in /usr/local/lib/python3.10/dist-packages (0.14.0)
Requirement already satisfied: branca&gt;=0.6.0 in /usr/local/lib/python3.10/dist-packages (from folium) (0.7.1)
Requirement already satisfied: jinja2&gt;=2.9 in /usr/local/lib/python3.10/dist-packages (from folium) (3.1.3)
Requirement already satisfied: numpy in /usr/local/lib/python3.10/dist-packages (from folium) (1.25.2)
Requirement already satisfied: requests in /usr/local/lib/python3.10/dist-packages (from folium) (2.31.0)
Requirement already satisfied: MarkupSafe&gt;=2.0 in /usr/local/lib/python3.10/dist-packages (from jinja2&gt;=2.9-&gt;folium) (2.1.5)
Requirement already satisfied: charset-normalizer&lt;4,&gt;=2 in /usr/local/lib/python3.10/dist-packages (from requests-&gt;folium) (3.3.2)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in /usr/local/lib/python3.10/dist-packages (from requests-&gt;folium) (3.6)
Requirement already satisfied: urllib3&lt;3,&gt;=1.21.1 in /usr/local/lib/python3.10/dist-packages (from requests-&gt;folium) (2.0.7)
Requirement already satisfied: certifi&gt;=2017.4.17 in /usr/local/lib/python3.10/dist-packages (from requests-&gt;folium) (2024.2.2)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Convertimos a float las columnas necesarias</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Latitud (Decimal)&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Latitud (Decimal)&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Longitud (decimal)&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Longitud (decimal)&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;N_Habitaciones&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;N_Habitaciones&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>

<span class="c1"># Agrupamos por comuna para sumar las habitaciones y calcular la latitud y longitud promedio</span>
<span class="n">df_grouped</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Comuna&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span>
    <span class="s1">&#39;N_Habitaciones&#39;</span><span class="p">:</span> <span class="s1">&#39;count&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Latitud (Decimal)&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Longitud (decimal)&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span>
<span class="p">})</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">folium</span>

<span class="c1"># Crear el mapa base, centrado en una ubicaci√≥n general de la Regi√≥n Metropolitana</span>
<span class="n">mapa</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">33.45</span><span class="p">,</span> <span class="o">-</span><span class="mf">70.65</span><span class="p">],</span> <span class="n">zoom_start</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>

<span class="c1"># A√±adir marcadores para cada comuna</span>
<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df_grouped</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">folium</span><span class="o">.</span><span class="n">Marker</span><span class="p">(</span>
        <span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;Latitud (Decimal)&#39;</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;Longitud (decimal)&#39;</span><span class="p">]],</span>
        <span class="n">popup</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;Comuna&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;N_Habitaciones&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> casas&quot;</span><span class="p">,</span>
        <span class="n">icon</span><span class="o">=</span><span class="n">folium</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">icon</span><span class="o">=</span><span class="s1">&#39;info-sign&#39;</span><span class="p">)</span>
    <span class="p">)</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">mapa</span><span class="p">)</span>

<span class="c1"># Guardar el mapa en un archivo HTML</span>
<span class="n">mapa</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;mapa_habitaciones_por_comuna.html&#39;</span><span class="p">)</span>
<span class="n">mapa</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-1.12.4.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_63f98a1366d1c7a1924889b3bc88947d {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_63f98a1366d1c7a1924889b3bc88947d&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_63f98a1366d1c7a1924889b3bc88947d = L.map(
                &quot;map_63f98a1366d1c7a1924889b3bc88947d&quot;,
                {
                    center: [-33.45, -70.65],
                    crs: L.CRS.EPSG3857,
                    zoom: 11,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_3cbf7f55782688edddc2f14e06fa1f6d = L.tileLayer(
                &quot;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;Data by \u0026copy; \u003ca target=\&quot;_blank\&quot; href=\&quot;http://openstreetmap.org\&quot;\u003eOpenStreetMap\u003c/a\u003e, under \u003ca target=\&quot;_blank\&quot; href=\&quot;http://www.openstreetmap.org/copyright\&quot;\u003eODbL\u003c/a\u003e.&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 18, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var marker_9bee0e8a56df33b56ce2e9e67c498278 = L.marker(
                [-33.6278, -70.785],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_461067ecc05432afd88b4ae0466599a8 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_9bee0e8a56df33b56ce2e9e67c498278.setIcon(icon_461067ecc05432afd88b4ae0466599a8);
        
    
        var popup_68974b930271d6c7c72654005f6f4fb1 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_be32fd77324b0ceaf6a239b56f57b199 = $(`&lt;div id=&quot;html_be32fd77324b0ceaf6a239b56f57b199&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Calera de Tango: 14 casas&lt;/div&gt;`)[0];
                popup_68974b930271d6c7c72654005f6f4fb1.setContent(html_be32fd77324b0ceaf6a239b56f57b199);
            
        

        marker_9bee0e8a56df33b56ce2e9e67c498278.bindPopup(popup_68974b930271d6c7c72654005f6f4fb1)
        ;

        
    
    
            var marker_b8cc0f0b416aab9701fc95a547fd06a6 = L.marker(
                [-33.5, -70.7167],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_e4a4f45e9ffb81f7f80bd81bdeb338bd = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_b8cc0f0b416aab9701fc95a547fd06a6.setIcon(icon_e4a4f45e9ffb81f7f80bd81bdeb338bd);
        
    
        var popup_72bbc3b62ffd8b1af83e78097af8a771 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_c7dd530dde86e2b92e3a84dd1e98231a = $(`&lt;div id=&quot;html_c7dd530dde86e2b92e3a84dd1e98231a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Cerrillos: 13 casas&lt;/div&gt;`)[0];
                popup_72bbc3b62ffd8b1af83e78097af8a771.setContent(html_c7dd530dde86e2b92e3a84dd1e98231a);
            
        

        marker_b8cc0f0b416aab9701fc95a547fd06a6.bindPopup(popup_72bbc3b62ffd8b1af83e78097af8a771)
        ;

        
    
    
            var marker_809bc7b8731caf93d8568e649cbe1524 = L.marker(
                [-33.4219, -70.735],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_49a465fe31b0b3eeec3bfae85111d94a = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_809bc7b8731caf93d8568e649cbe1524.setIcon(icon_49a465fe31b0b3eeec3bfae85111d94a);
        
    
        var popup_9aa5a77b4b73c1529b36a50a4989fa93 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0750d5c2b9c504c4476e7d9eda453229 = $(`&lt;div id=&quot;html_0750d5c2b9c504c4476e7d9eda453229&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Cerro Navia: 2 casas&lt;/div&gt;`)[0];
                popup_9aa5a77b4b73c1529b36a50a4989fa93.setContent(html_0750d5c2b9c504c4476e7d9eda453229);
            
        

        marker_809bc7b8731caf93d8568e649cbe1524.bindPopup(popup_9aa5a77b4b73c1529b36a50a4989fa93)
        ;

        
    
    
            var marker_358a02565c806f1655689d08147efd34 = L.marker(
                [-33.1939, -70.6678],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_be4759e83576fe0f499f5180f5fa4bb2 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_358a02565c806f1655689d08147efd34.setIcon(icon_be4759e83576fe0f499f5180f5fa4bb2);
        
    
        var popup_d4e7447134f631734a8bd5bb962096d8 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d4fdb55f450512e4cc2f1546fba01bd6 = $(`&lt;div id=&quot;html_d4fdb55f450512e4cc2f1546fba01bd6&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Colina: 40 casas&lt;/div&gt;`)[0];
                popup_d4e7447134f631734a8bd5bb962096d8.setContent(html_d4fdb55f450512e4cc2f1546fba01bd6);
            
        

        marker_358a02565c806f1655689d08147efd34.bindPopup(popup_d4e7447134f631734a8bd5bb962096d8)
        ;

        
    
    
            var marker_be91707aa97e70d1ffecd0fc9ed5d8fd = L.marker(
                [-33.38, -70.675],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_edb2c160818f4413f10d419433f90339 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_be91707aa97e70d1ffecd0fc9ed5d8fd.setIcon(icon_edb2c160818f4413f10d419433f90339);
        
    
        var popup_39025022dad794d22b9ce769e11fee78 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d6ff7802e1590175f11bda2f030655ab = $(`&lt;div id=&quot;html_d6ff7802e1590175f11bda2f030655ab&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Conchal√≠: 14 casas&lt;/div&gt;`)[0];
                popup_39025022dad794d22b9ce769e11fee78.setContent(html_d6ff7802e1590175f11bda2f030655ab);
            
        

        marker_be91707aa97e70d1ffecd0fc9ed5d8fd.bindPopup(popup_39025022dad794d22b9ce769e11fee78)
        ;

        
    
    
            var marker_2a3399c86401b67ba98d959ad9e0916b = L.marker(
                [-33.5669, -70.675],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_ac4122b06eda33d5fc2fcff0a92f6163 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_2a3399c86401b67ba98d959ad9e0916b.setIcon(icon_ac4122b06eda33d5fc2fcff0a92f6163);
        
    
        var popup_62a846706dd622c4fde61c7b564657ae = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_a10d95b7d0832b2c800072eb31f05d2a = $(`&lt;div id=&quot;html_a10d95b7d0832b2c800072eb31f05d2a&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;El Bosque: 15 casas&lt;/div&gt;`)[0];
                popup_62a846706dd622c4fde61c7b564657ae.setContent(html_a10d95b7d0832b2c800072eb31f05d2a);
            
        

        marker_2a3399c86401b67ba98d959ad9e0916b.bindPopup(popup_62a846706dd622c4fde61c7b564657ae)
        ;

        
    
    
            var marker_98c393025e60d7eff22679df0e2f9a0d = L.marker(
                [-33.6839, -71.0169],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_1484483546e12ff80cbf97678ab115a9 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_98c393025e60d7eff22679df0e2f9a0d.setIcon(icon_1484483546e12ff80cbf97678ab115a9);
        
    
        var popup_58c0034d00c550260b8cafc6c983de4d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_9e1ea52431169edfaf09004aa8a5f360 = $(`&lt;div id=&quot;html_9e1ea52431169edfaf09004aa8a5f360&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;El Monte: 2 casas&lt;/div&gt;`)[0];
                popup_58c0034d00c550260b8cafc6c983de4d.setContent(html_9e1ea52431169edfaf09004aa8a5f360);
            
        

        marker_98c393025e60d7eff22679df0e2f9a0d.bindPopup(popup_58c0034d00c550260b8cafc6c983de4d)
        ;

        
    
    
            var marker_5f412ff0dd17ea34f614a59f6885f981 = L.marker(
                [-33.4589, -70.6989],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_a9a6e1df4ba4dab5b1a1021a5865b2bf = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_5f412ff0dd17ea34f614a59f6885f981.setIcon(icon_a9a6e1df4ba4dab5b1a1021a5865b2bf);
        
    
        var popup_7e024904acba6908095fb894b1770717 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_cbed8f06aa05433f71fc1c17ff563eb8 = $(`&lt;div id=&quot;html_cbed8f06aa05433f71fc1c17ff563eb8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Estaci√≥n Central: 9 casas&lt;/div&gt;`)[0];
                popup_7e024904acba6908095fb894b1770717.setContent(html_cbed8f06aa05433f71fc1c17ff563eb8);
            
        

        marker_5f412ff0dd17ea34f614a59f6885f981.bindPopup(popup_7e024904acba6908095fb894b1770717)
        ;

        
    
    
            var marker_ad4e9d084a19180a8066d7b5681614bf = L.marker(
                [-33.3678, -70.6339],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_cea1b7803afe3661a269170c7a34a056 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_ad4e9d084a19180a8066d7b5681614bf.setIcon(icon_cea1b7803afe3661a269170c7a34a056);
        
    
        var popup_2ed63dbfe342970f3fcb597acf5b451d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_351719a4fbd10b8295378d8da54a338c = $(`&lt;div id=&quot;html_351719a4fbd10b8295378d8da54a338c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Huechuraba: 25 casas&lt;/div&gt;`)[0];
                popup_2ed63dbfe342970f3fcb597acf5b451d.setContent(html_351719a4fbd10b8295378d8da54a338c);
            
        

        marker_ad4e9d084a19180a8066d7b5681614bf.bindPopup(popup_2ed63dbfe342970f3fcb597acf5b451d)
        ;

        
    
    
            var marker_7635e43083b91beb2ba21c1245c4253b = L.marker(
                [-33.4128, -70.6658],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_20ec648f33f81ce2869abea8160f5a1e = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_7635e43083b91beb2ba21c1245c4253b.setIcon(icon_20ec648f33f81ce2869abea8160f5a1e);
        
    
        var popup_0a6e391f59811388348f8720cf33432d = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_994043675fbcf4d11aea4ae20c812abd = $(`&lt;div id=&quot;html_994043675fbcf4d11aea4ae20c812abd&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Independencia: 12 casas&lt;/div&gt;`)[0];
                popup_0a6e391f59811388348f8720cf33432d.setContent(html_994043675fbcf4d11aea4ae20c812abd);
            
        

        marker_7635e43083b91beb2ba21c1245c4253b.bindPopup(popup_0a6e391f59811388348f8720cf33432d)
        ;

        
    
    
            var marker_597b1e8b4dcb3ede4f4c10277d1ea552 = L.marker(
                [-33.5289, -70.6628],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_a95b3b617cabbad089eeb33b411af8ed = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_597b1e8b4dcb3ede4f4c10277d1ea552.setIcon(icon_a95b3b617cabbad089eeb33b411af8ed);
        
    
        var popup_54a64a395a259197412eac64fa6903b8 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5860f4961b54ab2076059ad6cecea4d0 = $(`&lt;div id=&quot;html_5860f4961b54ab2076059ad6cecea4d0&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;La Cisterna: 22 casas&lt;/div&gt;`)[0];
                popup_54a64a395a259197412eac64fa6903b8.setContent(html_5860f4961b54ab2076059ad6cecea4d0);
            
        

        marker_597b1e8b4dcb3ede4f4c10277d1ea552.bindPopup(popup_54a64a395a259197412eac64fa6903b8)
        ;

        
    
    
            var marker_00008bdb2b47ff32818d1de1e9a4c546 = L.marker(
                [-33.525, -70.5378],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_234cf30d4b4699bb4d8169a19474702f = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_00008bdb2b47ff32818d1de1e9a4c546.setIcon(icon_234cf30d4b4699bb4d8169a19474702f);
        
    
        var popup_9dc0a7bff1b73c111a1140d4808336b2 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f9029e09cd3ec307b7e315eb09796401 = $(`&lt;div id=&quot;html_f9029e09cd3ec307b7e315eb09796401&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;La Florida: 22 casas&lt;/div&gt;`)[0];
                popup_9dc0a7bff1b73c111a1140d4808336b2.setContent(html_f9029e09cd3ec307b7e315eb09796401);
            
        

        marker_00008bdb2b47ff32818d1de1e9a4c546.bindPopup(popup_9dc0a7bff1b73c111a1140d4808336b2)
        ;

        
    
    
            var marker_6b0a8ba0e270e6503165fc18e92b7787 = L.marker(
                [-33.5833, -70.5833],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_ab6682f05bd22891d5a0e76b6b9c53cb = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_6b0a8ba0e270e6503165fc18e92b7787.setIcon(icon_ab6682f05bd22891d5a0e76b6b9c53cb);
        
    
        var popup_eced978432dd258a5b62c0f28d55c01b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0546555d13fbf3a65645afcb3d4d8acd = $(`&lt;div id=&quot;html_0546555d13fbf3a65645afcb3d4d8acd&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;La Granja: 11 casas&lt;/div&gt;`)[0];
                popup_eced978432dd258a5b62c0f28d55c01b.setContent(html_0546555d13fbf3a65645afcb3d4d8acd);
            
        

        marker_6b0a8ba0e270e6503165fc18e92b7787.bindPopup(popup_eced978432dd258a5b62c0f28d55c01b)
        ;

        
    
    
            var marker_a59e0f44ebbcfb05dec7fae681809d5a = L.marker(
                [-33.5828, -70.6339],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_ccdebc8ad9121b0ff0f10f893250b8e0 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_a59e0f44ebbcfb05dec7fae681809d5a.setIcon(icon_ccdebc8ad9121b0ff0f10f893250b8e0);
        
    
        var popup_8e097e74b7d9967602d0678231fa0d15 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_33d8d92bf9c2f9f02764d5066110c844 = $(`&lt;div id=&quot;html_33d8d92bf9c2f9f02764d5066110c844&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;La Pintana: 17 casas&lt;/div&gt;`)[0];
                popup_8e097e74b7d9967602d0678231fa0d15.setContent(html_33d8d92bf9c2f9f02764d5066110c844);
            
        

        marker_a59e0f44ebbcfb05dec7fae681809d5a.bindPopup(popup_8e097e74b7d9967602d0678231fa0d15)
        ;

        
    
    
            var marker_7a501d23f8f6d85fb28c84765bbb515a = L.marker(
                [-33.4428, -70.5319],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_e03aa280deaff85dee25a1b9db987aef = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_7a501d23f8f6d85fb28c84765bbb515a.setIcon(icon_e03aa280deaff85dee25a1b9db987aef);
        
    
        var popup_431b09e02e24e952a7c57cb545b4b13c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_925ebd3ef60ce1369f74ef53e1a9503e = $(`&lt;div id=&quot;html_925ebd3ef60ce1369f74ef53e1a9503e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;La Reina: 44 casas&lt;/div&gt;`)[0];
                popup_431b09e02e24e952a7c57cb545b4b13c.setContent(html_925ebd3ef60ce1369f74ef53e1a9503e);
            
        

        marker_7a501d23f8f6d85fb28c84765bbb515a.bindPopup(popup_431b09e02e24e952a7c57cb545b4b13c)
        ;

        
    
    
            var marker_3d69e022ef07370a67ed034a3bfda5e5 = L.marker(
                [-33.2858, -70.8778],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_3ac7b9d821509ed8e23feb9b8a5a414b = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_3d69e022ef07370a67ed034a3bfda5e5.setIcon(icon_3ac7b9d821509ed8e23feb9b8a5a414b);
        
    
        var popup_eb1b3ede12cfb16d82263ff052aff31c = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0897e72088b05770a45d090807b6aea8 = $(`&lt;div id=&quot;html_0897e72088b05770a45d090807b6aea8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Lampa: 38 casas&lt;/div&gt;`)[0];
                popup_eb1b3ede12cfb16d82263ff052aff31c.setContent(html_0897e72088b05770a45d090807b6aea8);
            
        

        marker_3d69e022ef07370a67ed034a3bfda5e5.bindPopup(popup_eb1b3ede12cfb16d82263ff052aff31c)
        ;

        
    
    
            var marker_d161141b12bd77fd14663d866c440f04 = L.marker(
                [-33.4167, -70.5833],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_2235a799baeb11e2ddd4872109e1df56 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_d161141b12bd77fd14663d866c440f04.setIcon(icon_2235a799baeb11e2ddd4872109e1df56);
        
    
        var popup_e1f7d86273362619568a19322850815a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_6cff0e84c3aa7267d4229d80bbd01631 = $(`&lt;div id=&quot;html_6cff0e84c3aa7267d4229d80bbd01631&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Las Condes: 48 casas&lt;/div&gt;`)[0];
                popup_e1f7d86273362619568a19322850815a.setContent(html_6cff0e84c3aa7267d4229d80bbd01631);
            
        

        marker_d161141b12bd77fd14663d866c440f04.bindPopup(popup_e1f7d86273362619568a19322850815a)
        ;

        
    
    
            var marker_67ab6c62f7f559ae06eccc6ba538bbd5 = L.marker(
                [-33.35, -70.5167],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_31cae835a93811a46e19b7b1a9d216d9 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_67ab6c62f7f559ae06eccc6ba538bbd5.setIcon(icon_31cae835a93811a46e19b7b1a9d216d9);
        
    
        var popup_e7512d9d2eee9868bd8d9c4bf116accf = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_eb5381825c7f2c1e0bd95cbf6e8ba193 = $(`&lt;div id=&quot;html_eb5381825c7f2c1e0bd95cbf6e8ba193&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Lo Barnechea: 48 casas&lt;/div&gt;`)[0];
                popup_e7512d9d2eee9868bd8d9c4bf116accf.setContent(html_eb5381825c7f2c1e0bd95cbf6e8ba193);
            
        

        marker_67ab6c62f7f559ae06eccc6ba538bbd5.bindPopup(popup_e7512d9d2eee9868bd8d9c4bf116accf)
        ;

        
    
    
            var marker_e8cdf92d2b0883d8b1d91a923bc185e8 = L.marker(
                [-33.5219, -70.6869],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_3137473608b2ec4c7507f0c1d4f636dd = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_e8cdf92d2b0883d8b1d91a923bc185e8.setIcon(icon_3137473608b2ec4c7507f0c1d4f636dd);
        
    
        var popup_bcd8aa712c13f4d8270e1a14edf642cf = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_5740d4ceb3c016cfb19b977f0a1c6974 = $(`&lt;div id=&quot;html_5740d4ceb3c016cfb19b977f0a1c6974&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Lo Espejo: 5 casas&lt;/div&gt;`)[0];
                popup_bcd8aa712c13f4d8270e1a14edf642cf.setContent(html_5740d4ceb3c016cfb19b977f0a1c6974);
            
        

        marker_e8cdf92d2b0883d8b1d91a923bc185e8.bindPopup(popup_bcd8aa712c13f4d8270e1a14edf642cf)
        ;

        
    
    
            var marker_042c81b922179a9f249592682dd71bbb = L.marker(
                [-33.445, -70.7258],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_599f8353e31f13ef7e13e3fe50c0abb6 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_042c81b922179a9f249592682dd71bbb.setIcon(icon_599f8353e31f13ef7e13e3fe50c0abb6);
        
    
        var popup_40824600510d64b4edf911938072b901 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_cede48b52004740de23a0c7ecdf6f3c5 = $(`&lt;div id=&quot;html_cede48b52004740de23a0c7ecdf6f3c5&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Lo Prado: 8 casas&lt;/div&gt;`)[0];
                popup_40824600510d64b4edf911938072b901.setContent(html_cede48b52004740de23a0c7ecdf6f3c5);
            
        

        marker_042c81b922179a9f249592682dd71bbb.bindPopup(popup_40824600510d64b4edf911938072b901)
        ;

        
    
    
            var marker_ce1fe4647b53344b99f5020da0d60f18 = L.marker(
                [-33.4869, -70.6039],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_a74dd6a772e6eff9bb441eb9291bf42e = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_ce1fe4647b53344b99f5020da0d60f18.setIcon(icon_a74dd6a772e6eff9bb441eb9291bf42e);
        
    
        var popup_920864ae4783c73d83a0a0e45bc2ec9b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_3ac574ffd9086a048ef952d66e9dbdb9 = $(`&lt;div id=&quot;html_3ac574ffd9086a048ef952d66e9dbdb9&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Macul: 39 casas&lt;/div&gt;`)[0];
                popup_920864ae4783c73d83a0a0e45bc2ec9b.setContent(html_3ac574ffd9086a048ef952d66e9dbdb9);
            
        

        marker_ce1fe4647b53344b99f5020da0d60f18.bindPopup(popup_920864ae4783c73d83a0a0e45bc2ec9b)
        ;

        
    
    
            var marker_7f1acdd70efc8a05c9cbe0d347162422 = L.marker(
                [-33.5167, -70.7667],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_de000c929304767ccac3feb020ed3fd1 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_7f1acdd70efc8a05c9cbe0d347162422.setIcon(icon_de000c929304767ccac3feb020ed3fd1);
        
    
        var popup_c93fb935e525979c94796d7db249c480 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_3607eb23310a88007115e7e9c14043e6 = $(`&lt;div id=&quot;html_3607eb23310a88007115e7e9c14043e6&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Maip√∫: 38 casas&lt;/div&gt;`)[0];
                popup_c93fb935e525979c94796d7db249c480.setContent(html_3607eb23310a88007115e7e9c14043e6);
            
        

        marker_7f1acdd70efc8a05c9cbe0d347162422.bindPopup(popup_c93fb935e525979c94796d7db249c480)
        ;

        
    
    
            var marker_988b20de355fcd57f2272ad1fb1ca005 = L.marker(
                [-33.5667, -70.8333],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_0c189bf8735e7ae8ebab7caebd5948ff = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_988b20de355fcd57f2272ad1fb1ca005.setIcon(icon_0c189bf8735e7ae8ebab7caebd5948ff);
        
    
        var popup_4c00489d443687519e9547feb70cf65a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_248e4497cf7a3acd5ba8247ae1931ef8 = $(`&lt;div id=&quot;html_248e4497cf7a3acd5ba8247ae1931ef8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Padre Hurtado: 13 casas&lt;/div&gt;`)[0];
                popup_4c00489d443687519e9547feb70cf65a.setContent(html_248e4497cf7a3acd5ba8247ae1931ef8);
            
        

        marker_988b20de355fcd57f2272ad1fb1ca005.bindPopup(popup_4c00489d443687519e9547feb70cf65a)
        ;

        
    
    
            var marker_05792056b7eaf638b97e27d0c25631c0 = L.marker(
                [-33.4661, -70.6336],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_5acc22444b3df23f88d4d877e7c3a9f9 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_05792056b7eaf638b97e27d0c25631c0.setIcon(icon_5acc22444b3df23f88d4d877e7c3a9f9);
        
    
        var popup_2619ac86a11855ed2ccc83002e3a3407 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_fb23af8156ba08292bf120a56a489562 = $(`&lt;div id=&quot;html_fb23af8156ba08292bf120a56a489562&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Pedro Aguirre Cerda: 11 casas&lt;/div&gt;`)[0];
                popup_2619ac86a11855ed2ccc83002e3a3407.setContent(html_fb23af8156ba08292bf120a56a489562);
            
        

        marker_05792056b7eaf638b97e27d0c25631c0.bindPopup(popup_2619ac86a11855ed2ccc83002e3a3407)
        ;

        
    
    
            var marker_47c045024e2ce6a8bd11f8b80499c438 = L.marker(
                [-33.6061, -70.8764],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_1f401b5a027304d0380af4b348f85d2c = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_47c045024e2ce6a8bd11f8b80499c438.setIcon(icon_1f401b5a027304d0380af4b348f85d2c);
        
    
        var popup_b162fb04fdec097f86db2e87e4aed2f0 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_23ee9b91b86db461049293109e115b88 = $(`&lt;div id=&quot;html_23ee9b91b86db461049293109e115b88&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Pe√±aflor: 16 casas&lt;/div&gt;`)[0];
                popup_b162fb04fdec097f86db2e87e4aed2f0.setContent(html_23ee9b91b86db461049293109e115b88);
            
        

        marker_47c045024e2ce6a8bd11f8b80499c438.bindPopup(popup_b162fb04fdec097f86db2e87e4aed2f0)
        ;

        
    
    
            var marker_ac2cdf5ac8bf6a6a2deb3a632ee2ac3e = L.marker(
                [-33.4861, -70.5333],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_acd47905ce871a479e78bd455ff6c936 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_ac2cdf5ac8bf6a6a2deb3a632ee2ac3e.setIcon(icon_acd47905ce871a479e78bd455ff6c936);
        
    
        var popup_80615b3ee89341832f0a1c78904d40bd = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_fb4855f30346447e0de6c05098c889ac = $(`&lt;div id=&quot;html_fb4855f30346447e0de6c05098c889ac&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Pe√±alol√©n: 44 casas&lt;/div&gt;`)[0];
                popup_80615b3ee89341832f0a1c78904d40bd.setContent(html_fb4855f30346447e0de6c05098c889ac);
            
        

        marker_ac2cdf5ac8bf6a6a2deb3a632ee2ac3e.bindPopup(popup_80615b3ee89341832f0a1c78904d40bd)
        ;

        
    
    
            var marker_338a8616962ba15f8aa7318dfffbeb6d = L.marker(
                [-33.435, -70.6158],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_7a61233650dab41e4c7cf0e0a42c2114 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_338a8616962ba15f8aa7318dfffbeb6d.setIcon(icon_7a61233650dab41e4c7cf0e0a42c2114);
        
    
        var popup_c7c8b7aa73eb41bba8c2f521523772d7 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_2c6f893dafac0383b0498ed4a708c88f = $(`&lt;div id=&quot;html_2c6f893dafac0383b0498ed4a708c88f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Providencia: 47 casas&lt;/div&gt;`)[0];
                popup_c7c8b7aa73eb41bba8c2f521523772d7.setContent(html_2c6f893dafac0383b0498ed4a708c88f);
            
        

        marker_338a8616962ba15f8aa7318dfffbeb6d.bindPopup(popup_c7c8b7aa73eb41bba8c2f521523772d7)
        ;

        
    
    
            var marker_3576ab6edcccedb5fdeda94db7c74070 = L.marker(
                [-33.4333, -70.7167],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_056141d36d7e26fd8fde0c59814aec1e = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_3576ab6edcccedb5fdeda94db7c74070.setIcon(icon_056141d36d7e26fd8fde0c59814aec1e);
        
    
        var popup_4ed049bddf7a489d78cac81949290ed0 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d8886a470400c12f597e9880c156d78d = $(`&lt;div id=&quot;html_d8886a470400c12f597e9880c156d78d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Pudahuel: 45 casas&lt;/div&gt;`)[0];
                popup_4ed049bddf7a489d78cac81949290ed0.setContent(html_d8886a470400c12f597e9880c156d78d);
            
        

        marker_3576ab6edcccedb5fdeda94db7c74070.bindPopup(popup_4ed049bddf7a489d78cac81949290ed0)
        ;

        
    
    
            var marker_e69e7229f67149950c97e7da4be3370d = L.marker(
                [-33.6158, -70.57],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_fc67d5184b115b780ed189cdd13280a3 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_e69e7229f67149950c97e7da4be3370d.setIcon(icon_fc67d5184b115b780ed189cdd13280a3);
        
    
        var popup_34639c2e71c0c87b2bde5a4a770d1116 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_fb20bf4ff34c81362806c028698264bf = $(`&lt;div id=&quot;html_fb20bf4ff34c81362806c028698264bf&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Puente Alto: 40 casas&lt;/div&gt;`)[0];
                popup_34639c2e71c0c87b2bde5a4a770d1116.setContent(html_fb20bf4ff34c81362806c028698264bf);
            
        

        marker_e69e7229f67149950c97e7da4be3370d.bindPopup(popup_34639c2e71c0c87b2bde5a4a770d1116)
        ;

        
    
    
            var marker_61d8bd0cf71b9b4c80b97705784edccb = L.marker(
                [-33.3608, -70.7289],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_ae527e0bbb922f2029479d21c4d2278d = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_61d8bd0cf71b9b4c80b97705784edccb.setIcon(icon_ae527e0bbb922f2029479d21c4d2278d);
        
    
        var popup_22fe5925bb78a45e399332e40d99d425 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_f3870e945c861abe711a4a326c7e7371 = $(`&lt;div id=&quot;html_f3870e945c861abe711a4a326c7e7371&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Quilicura: 44 casas&lt;/div&gt;`)[0];
                popup_22fe5925bb78a45e399332e40d99d425.setContent(html_f3870e945c861abe711a4a326c7e7371);
            
        

        marker_61d8bd0cf71b9b4c80b97705784edccb.bindPopup(popup_22fe5925bb78a45e399332e40d99d425)
        ;

        
    
    
            var marker_1bd53478efcec399100d9ea96c8593c4 = L.marker(
                [-33.4269, -70.6989],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_8e98f2fb4557a3129a4e62e822c48baa = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_1bd53478efcec399100d9ea96c8593c4.setIcon(icon_8e98f2fb4557a3129a4e62e822c48baa);
        
    
        var popup_8a15b30f12f6a0210e3566e87b24d32b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7c7bb05c57df7253602cd21e6b901ed9 = $(`&lt;div id=&quot;html_7c7bb05c57df7253602cd21e6b901ed9&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Quinta Normal: 9 casas&lt;/div&gt;`)[0];
                popup_8a15b30f12f6a0210e3566e87b24d32b.setContent(html_7c7bb05c57df7253602cd21e6b901ed9);
            
        

        marker_1bd53478efcec399100d9ea96c8593c4.bindPopup(popup_8a15b30f12f6a0210e3566e87b24d32b)
        ;

        
    
    
            var marker_0bddd0a4287b119b0fe7b4ff124aef56 = L.marker(
                [-33.4058, -70.64],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_a742c7a1a90ff2c51df3de8fd4c3fd4e = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_0bddd0a4287b119b0fe7b4ff124aef56.setIcon(icon_a742c7a1a90ff2c51df3de8fd4c3fd4e);
        
    
        var popup_dc5d69ac90c398bf4bffebd4dfa6ba3a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_1705c287a8e2d85e2af1a231f423727f = $(`&lt;div id=&quot;html_1705c287a8e2d85e2af1a231f423727f&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Recoleta: 19 casas&lt;/div&gt;`)[0];
                popup_dc5d69ac90c398bf4bffebd4dfa6ba3a.setContent(html_1705c287a8e2d85e2af1a231f423727f);
            
        

        marker_0bddd0a4287b119b0fe7b4ff124aef56.bindPopup(popup_dc5d69ac90c398bf4bffebd4dfa6ba3a)
        ;

        
    
    
            var marker_fccccae231636381fc1c0e2de7a22285 = L.marker(
                [-33.3978, -70.7228],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_cf4d50b69876da8154278776ca19c24c = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_fccccae231636381fc1c0e2de7a22285.setIcon(icon_cf4d50b69876da8154278776ca19c24c);
        
    
        var popup_bfa5f20e07a919fa746763749dec76a2 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_1ebb7b0d11708c316a2901cc7524bb0c = $(`&lt;div id=&quot;html_1ebb7b0d11708c316a2901cc7524bb0c&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Renca: 8 casas&lt;/div&gt;`)[0];
                popup_bfa5f20e07a919fa746763749dec76a2.setContent(html_1ebb7b0d11708c316a2901cc7524bb0c);
            
        

        marker_fccccae231636381fc1c0e2de7a22285.bindPopup(popup_bfa5f20e07a919fa746763749dec76a2)
        ;

        
    
    
            var marker_1fbeb507b23bf8064069e69f984c441b = L.marker(
                [-33.5819, -70.6869],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_7565056fc406fcfa33eae9feaebdba34 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_1fbeb507b23bf8064069e69f984c441b.setIcon(icon_7565056fc406fcfa33eae9feaebdba34);
        
    
        var popup_fd81c06f67b1c3542f6958af61d91b60 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_4b65b15b1a1092d4a1a900ebdddc6567 = $(`&lt;div id=&quot;html_4b65b15b1a1092d4a1a900ebdddc6567&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;San Bernardo: 34 casas&lt;/div&gt;`)[0];
                popup_fd81c06f67b1c3542f6958af61d91b60.setContent(html_4b65b15b1a1092d4a1a900ebdddc6567);
            
        

        marker_1fbeb507b23bf8064069e69f984c441b.bindPopup(popup_fd81c06f67b1c3542f6958af61d91b60)
        ;

        
    
    
            var marker_d78d8af5c3b7a760eccbc38ddbded10c = L.marker(
                [-33.4908, -70.6278],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_090d8d938a7938931443d96ec158687b = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_d78d8af5c3b7a760eccbc38ddbded10c.setIcon(icon_090d8d938a7938931443d96ec158687b);
        
    
        var popup_2f6da524fb583601feafbe8806c64625 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_c9d413739d969abd6ec19fbcc10c746d = $(`&lt;div id=&quot;html_c9d413739d969abd6ec19fbcc10c746d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;San Joaqu√≠n: 9 casas&lt;/div&gt;`)[0];
                popup_2f6da524fb583601feafbe8806c64625.setContent(html_c9d413739d969abd6ec19fbcc10c746d);
            
        

        marker_d78d8af5c3b7a760eccbc38ddbded10c.bindPopup(popup_2f6da524fb583601feafbe8806c64625)
        ;

        
    
    
            var marker_dc7b507f5621c658e3d2eb2ee6f3aa50 = L.marker(
                [-33.6439, -70.3528],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_bcf56b71577f119ff30df0a05e7d5995 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_dc7b507f5621c658e3d2eb2ee6f3aa50.setIcon(icon_bcf56b71577f119ff30df0a05e7d5995);
        
    
        var popup_d352d4bc026fbcdc8a61689447a0bb4b = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0a5ba52a26e3a859cba6b792a12dfcb1 = $(`&lt;div id=&quot;html_0a5ba52a26e3a859cba6b792a12dfcb1&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;San Jos√© de Maipo: 2 casas&lt;/div&gt;`)[0];
                popup_d352d4bc026fbcdc8a61689447a0bb4b.setContent(html_0a5ba52a26e3a859cba6b792a12dfcb1);
            
        

        marker_dc7b507f5621c658e3d2eb2ee6f3aa50.bindPopup(popup_d352d4bc026fbcdc8a61689447a0bb4b)
        ;

        
    
    
            var marker_1bdb4ee3574aaef4b31bb81b6583e08d = L.marker(
                [-33.4858, -70.6494],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_2d440596b29d8998a19f5c86e73e9653 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_1bdb4ee3574aaef4b31bb81b6583e08d.setIcon(icon_2d440596b29d8998a19f5c86e73e9653);
        
    
        var popup_3ca0a16f1d87b4249480e0aedaac4d8a = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d2a599eb3854d9eda10085bc486bf12e = $(`&lt;div id=&quot;html_d2a599eb3854d9eda10085bc486bf12e&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;San Miguel: 30 casas&lt;/div&gt;`)[0];
                popup_3ca0a16f1d87b4249480e0aedaac4d8a.setContent(html_d2a599eb3854d9eda10085bc486bf12e);
            
        

        marker_1bdb4ee3574aaef4b31bb81b6583e08d.bindPopup(popup_3ca0a16f1d87b4249480e0aedaac4d8a)
        ;

        
    
    
            var marker_d7c22c6853087a0f0874f5fcc4724239 = L.marker(
                [-33.5428, -70.6439],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_2dc416d784cfd9bddf6ad1108a8eced1 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_d7c22c6853087a0f0874f5fcc4724239.setIcon(icon_2dc416d784cfd9bddf6ad1108a8eced1);
        
    
        var popup_b2034824aaad502cd8317f3c5b852cc8 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_7882155ba2d916a85cf6a00061655471 = $(`&lt;div id=&quot;html_7882155ba2d916a85cf6a00061655471&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;San Ram√≥n: 4 casas&lt;/div&gt;`)[0];
                popup_b2034824aaad502cd8317f3c5b852cc8.setContent(html_7882155ba2d916a85cf6a00061655471);
            
        

        marker_d7c22c6853087a0f0874f5fcc4724239.bindPopup(popup_b2034824aaad502cd8317f3c5b852cc8)
        ;

        
    
    
            var marker_66de2e700d1e0b85c9e1e88e65f6610c = L.marker(
                [-33.4372, -70.6572],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_0f513e57c079e4d76a8e1c611570d0e5 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_66de2e700d1e0b85c9e1e88e65f6610c.setIcon(icon_0f513e57c079e4d76a8e1c611570d0e5);
        
    
        var popup_d8146c1d59f5ccda0f19478d6e62ab80 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_0653896afb4b7df81a15b6baf6d3d417 = $(`&lt;div id=&quot;html_0653896afb4b7df81a15b6baf6d3d417&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Santiago: 33 casas&lt;/div&gt;`)[0];
                popup_d8146c1d59f5ccda0f19478d6e62ab80.setContent(html_0653896afb4b7df81a15b6baf6d3d417);
            
        

        marker_66de2e700d1e0b85c9e1e88e65f6610c.bindPopup(popup_d8146c1d59f5ccda0f19478d6e62ab80)
        ;

        
    
    
            var marker_37062839154e59d8689e70b80cf07a5a = L.marker(
                [-33.4, -70.6],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_81cb23eea0ed552a9c67b30edda74e8b = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_37062839154e59d8689e70b80cf07a5a.setIcon(icon_81cb23eea0ed552a9c67b30edda74e8b);
        
    
        var popup_347831f3cb7c0a2a4b3056d1ef895b5f = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_d6659d1953d3be92d2516d3e2956d740 = $(`&lt;div id=&quot;html_d6659d1953d3be92d2516d3e2956d740&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Vitacura: 44 casas&lt;/div&gt;`)[0];
                popup_347831f3cb7c0a2a4b3056d1ef895b5f.setContent(html_d6659d1953d3be92d2516d3e2956d740);
            
        

        marker_37062839154e59d8689e70b80cf07a5a.bindPopup(popup_347831f3cb7c0a2a4b3056d1ef895b5f)
        ;

        
    
    
            var marker_569fef381b9c31a52c0b36033c9f5277 = L.marker(
                [-33.4539, -70.6039],
                {}
            ).addTo(map_63f98a1366d1c7a1924889b3bc88947d);
        
    
            var icon_7f5af483c6854c8a48fc7a9743235ab6 = L.AwesomeMarkers.icon(
                {&quot;extraClasses&quot;: &quot;fa-rotate-0&quot;, &quot;icon&quot;: &quot;info-sign&quot;, &quot;iconColor&quot;: &quot;white&quot;, &quot;markerColor&quot;: &quot;blue&quot;, &quot;prefix&quot;: &quot;glyphicon&quot;}
            );
            marker_569fef381b9c31a52c0b36033c9f5277.setIcon(icon_7f5af483c6854c8a48fc7a9743235ab6);
        
    
        var popup_0ce70aac34e1e088a3d9bd3a9824ad00 = L.popup({&quot;maxWidth&quot;: &quot;100%&quot;});

        
            
                var html_cbfaf1d7a7b19a3fcb7c8934b2aa5be5 = $(`&lt;div id=&quot;html_cbfaf1d7a7b19a3fcb7c8934b2aa5be5&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;√ëu√±oa: 48 casas&lt;/div&gt;`)[0];
                popup_0ce70aac34e1e088a3d9bd3a9824ad00.setContent(html_cbfaf1d7a7b19a3fcb7c8934b2aa5be5);
            
        

        marker_569fef381b9c31a52c0b36033c9f5277.bindPopup(popup_0ce70aac34e1e088a3d9bd3a9824ad00)
        ;

        
    
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
</section>
</section>
<section id="analisis-de-correlacion-de-las-variables">
<h3>An√°lisis de correlaci√≥n de las variables<a class="headerlink" href="#analisis-de-correlacion-de-las-variables" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corr</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
<span class="n">corr</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ipython-input-353-4381f08f6434&gt;:1: FutureWarning: The default value of numeric_only in DataFrame.corr is deprecated. In a future version, it will default to False. Select only valid columns or specify the value of numeric_only to silence this warning.
  corr = df.corr()
</pre></div>
</div>
<div class="output text_html">
  <div id="df-a6598e9e-50cf-44bd-b2d8-e9970bc029ee" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>N_Habitaciones</th>
      <th>N_Ba√±os</th>
      <th>Valor_UF</th>
      <th>Valor_CLP</th>
      <th>Latitud (Decimal)</th>
      <th>Longitud (decimal)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>N_Habitaciones</th>
      <td>1.000000</td>
      <td>0.584381</td>
      <td>0.322528</td>
      <td>0.322528</td>
      <td>0.078896</td>
      <td>0.134136</td>
    </tr>
    <tr>
      <th>N_Ba√±os</th>
      <td>0.584381</td>
      <td>1.000000</td>
      <td>0.558939</td>
      <td>0.558935</td>
      <td>0.242203</td>
      <td>0.181163</td>
    </tr>
    <tr>
      <th>Valor_UF</th>
      <td>0.322528</td>
      <td>0.558939</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>0.276380</td>
      <td>0.408451</td>
    </tr>
    <tr>
      <th>Valor_CLP</th>
      <td>0.322528</td>
      <td>0.558935</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>0.276366</td>
      <td>0.408457</td>
    </tr>
    <tr>
      <th>Latitud (Decimal)</th>
      <td>0.078896</td>
      <td>0.242203</td>
      <td>0.276380</td>
      <td>0.276366</td>
      <td>1.000000</td>
      <td>-0.043786</td>
    </tr>
    <tr>
      <th>Longitud (decimal)</th>
      <td>0.134136</td>
      <td>0.181163</td>
      <td>0.408451</td>
      <td>0.408457</td>
      <td>-0.043786</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-a6598e9e-50cf-44bd-b2d8-e9970bc029ee')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-a6598e9e-50cf-44bd-b2d8-e9970bc029ee button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-a6598e9e-50cf-44bd-b2d8-e9970bc029ee');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-ba22a6f2-da42-4d10-bf2d-57256b9835f1">
  <button class="colab-df-quickchart" onclick="quickchart('df-ba22a6f2-da42-4d10-bf2d-57256b9835f1')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-ba22a6f2-da42-4d10-bf2d-57256b9835f1 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_5ca740a5-7147-4687-9118-36885a1e061f">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('corr')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_5ca740a5-7147-4687-9118-36885a1e061f button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('corr');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div></div>
</div>
<section id="visualicemos-un-poco-mejor-esto">
<h4>Visualicemos un poco mejor esto<a class="headerlink" href="#visualicemos-un-poco-mejor-esto" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="n">corr</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>  <span class="c1"># Puedes ajustar el tama√±o seg√∫n tus necesidades</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span>
            <span class="n">xticklabels</span><span class="o">=</span><span class="n">corr</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span>
            <span class="n">yticklabels</span><span class="o">=</span><span class="n">corr</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span>
            <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">,</span>  <span class="c1"># Elige el mapa de colores que prefieras</span>
            <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="c1"># Muestra los valores de correlaci√≥n</span>
            <span class="n">linewidths</span><span class="o">=</span><span class="mf">.5</span><span class="p">)</span>  <span class="c1"># Ajusta el espaciado entre las celdas si es necesario</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Correlaci√≥n de variables&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ipython-input-354-74421bbed24f&gt;:3: FutureWarning: The default value of numeric_only in DataFrame.corr is deprecated. In a future version, it will default to False. Select only valid columns or specify the value of numeric_only to silence this warning.
  corr = df.corr()
</pre></div>
</div>
<img alt="_images/2cc916422878dd747836a60cc6869035e06698f26cbc45f424f6ae150c206e8e.png" src="_images/2cc916422878dd747836a60cc6869035e06698f26cbc45f424f6ae150c206e8e.png" />
</div>
</div>
</section>
</section>
<section id="preparemos-todo-para-entrenar-un-modelo-de-ml">
<h3>Preparemos todo para entrenar un modelo de ML<a class="headerlink" href="#preparemos-todo-para-entrenar-un-modelo-de-ml" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 986 entries, 0 to 1138
Data columns (total 14 columns):
 #   Column                    Non-Null Count  Dtype  
---  ------                    --------------  -----  
 0   Comuna                    986 non-null    object 
 1   Tipo_Vivienda             986 non-null    object 
 2   N_Habitaciones            986 non-null    float64
 3   N_Ba√±os                   986 non-null    float64
 4   N_Estacionamientos        986 non-null    object 
 5   Total_Superficie_M2       986 non-null    object 
 6   Superficie_Construida_M2  986 non-null    object 
 7    Valor_UF                 986 non-null    float64
 8   Valor_CLP                 986 non-null    int64  
 9   Direcci√≥n                 986 non-null    object 
 10  Qui√©n_Vende               986 non-null    object 
 11  Corredor                  986 non-null    object 
 12  Latitud (Decimal)         986 non-null    float64
 13  Longitud (decimal)        986 non-null    float64
dtypes: float64(5), int64(1), object(8)
memory usage: 115.5+ KB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Vamos a limpiar estas variables ya se supone que sean num√©ricas</span>
<span class="n">variables_a_limpiar</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;N_Estacionamientos&quot;</span><span class="p">,</span><span class="s2">&quot;Total_Superficie_M2&quot;</span><span class="p">,</span><span class="s2">&quot;Superficie_Construida_M2&quot;</span><span class="p">]</span>
<span class="n">variables_a_limpiar</span>
<span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">variables_a_limpiar</span><span class="p">:</span>
  <span class="n">df</span><span class="p">[</span><span class="n">variable</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">variable</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Eliminar las variables que no nos aportan informaci√≥n relevante y que son categoricas</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s2">&quot;Tipo_Vivienda&quot;</span><span class="p">,</span><span class="s2">&quot;Corredor&quot;</span><span class="p">,</span><span class="s2">&quot;Qui√©n_Vende&quot;</span><span class="p">,</span><span class="s2">&quot;Direcci√≥n&quot;</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Rellenamos los campos NaN con 0</span>
<span class="n">df</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 986 entries, 0 to 1138
Data columns (total 10 columns):
 #   Column                    Non-Null Count  Dtype  
---  ------                    --------------  -----  
 0   Comuna                    986 non-null    object 
 1   N_Habitaciones            986 non-null    float64
 2   N_Ba√±os                   986 non-null    float64
 3   N_Estacionamientos        986 non-null    float64
 4   Total_Superficie_M2       986 non-null    float64
 5   Superficie_Construida_M2  986 non-null    float64
 6    Valor_UF                 986 non-null    float64
 7   Valor_CLP                 986 non-null    int64  
 8   Latitud (Decimal)         986 non-null    float64
 9   Longitud (decimal)        986 non-null    float64
dtypes: float64(8), int64(1), object(1)
memory usage: 84.7+ KB
</pre></div>
</div>
</div>
</div>
<section id="transformacion-de-columnas-categoricas">
<h4>Transformaci√≥n de columnas categoricas<a class="headerlink" href="#transformacion-de-columnas-categoricas" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Realicemos el one-hot encoding</span>
<span class="n">df_dummies</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Comuna&#39;</span><span class="p">])</span>

<span class="n">df_dummies</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-3e35020e-6451-4316-8df2-6ab9e188ce5a" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Calera de Tango</th>
      <th>Cerrillos</th>
      <th>Cerro Navia</th>
      <th>Colina</th>
      <th>Conchal√≠</th>
      <th>El Bosque</th>
      <th>El Monte</th>
      <th>Estaci√≥n Central</th>
      <th>Huechuraba</th>
      <th>Independencia</th>
      <th>...</th>
      <th>Recoleta</th>
      <th>Renca</th>
      <th>San Bernardo</th>
      <th>San Joaqu√≠n</th>
      <th>San Jos√© de Maipo</th>
      <th>San Miguel</th>
      <th>San Ram√≥n</th>
      <th>Santiago</th>
      <th>Vitacura</th>
      <th>√ëu√±oa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>5 rows √ó 41 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-3e35020e-6451-4316-8df2-6ab9e188ce5a')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-3e35020e-6451-4316-8df2-6ab9e188ce5a button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-3e35020e-6451-4316-8df2-6ab9e188ce5a');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-46c5acec-d699-4660-b7ea-ed2b85fa8df4">
  <button class="colab-df-quickchart" onclick="quickchart('df-46c5acec-d699-4660-b7ea-ed2b85fa8df4')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-46c5acec-d699-4660-b7ea-ed2b85fa8df4 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Agreguemos la informaci√≥n nueva a la tabla axistente</span>
<span class="n">df_final</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Comuna&#39;</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">df_dummies</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">df_final</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-c10733ba-a02c-41e2-a58a-b764392e209b" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>N_Habitaciones</th>
      <th>N_Ba√±os</th>
      <th>N_Estacionamientos</th>
      <th>Total_Superficie_M2</th>
      <th>Superficie_Construida_M2</th>
      <th>Valor_UF</th>
      <th>Valor_CLP</th>
      <th>Latitud (Decimal)</th>
      <th>Longitud (decimal)</th>
      <th>Calera de Tango</th>
      <th>...</th>
      <th>Recoleta</th>
      <th>Renca</th>
      <th>San Bernardo</th>
      <th>San Joaqu√≠n</th>
      <th>San Jos√© de Maipo</th>
      <th>San Miguel</th>
      <th>San Ram√≥n</th>
      <th>Santiago</th>
      <th>Vitacura</th>
      <th>√ëu√±oa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5.0</td>
      <td>6.0</td>
      <td>3.0</td>
      <td>5000.0</td>
      <td>440.0</td>
      <td>12.2</td>
      <td>351360000</td>
      <td>-33.6278</td>
      <td>-70.785</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>6.0</td>
      <td>6.0</td>
      <td>6.0</td>
      <td>5000.0</td>
      <td>430.0</td>
      <td>13.0</td>
      <td>374400000</td>
      <td>-33.6278</td>
      <td>-70.785</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3.0</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>2027.0</td>
      <td>140.0</td>
      <td>10.3</td>
      <td>296640000</td>
      <td>-33.6278</td>
      <td>-70.785</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>8.0</td>
      <td>6.0</td>
      <td>0.0</td>
      <td>5000.0</td>
      <td>480.0</td>
      <td>21.5</td>
      <td>619200000</td>
      <td>-33.6278</td>
      <td>-70.785</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3.0</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>5000.0</td>
      <td>196.0</td>
      <td>9.1</td>
      <td>262080000</td>
      <td>-33.6278</td>
      <td>-70.785</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>5 rows √ó 50 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-c10733ba-a02c-41e2-a58a-b764392e209b')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-c10733ba-a02c-41e2-a58a-b764392e209b button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-c10733ba-a02c-41e2-a58a-b764392e209b');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-d847d1f3-ffd4-4b04-99e0-1d237c1ebd0e">
  <button class="colab-df-quickchart" onclick="quickchart('df-d847d1f3-ffd4-4b04-99e0-1d237c1ebd0e')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-d847d1f3-ffd4-4b04-99e0-1d237c1ebd0e button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
</section>
<section id="dividamos-caracteristicas-y-variable-objetivo">
<h4>Dividamos Caracteristicas y Variable Objetivo<a class="headerlink" href="#dividamos-caracteristicas-y-variable-objetivo" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Variables independientes</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">df_final</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39; Valor_UF &#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1">#Variables dependientes</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_final</span><span class="p">[</span><span class="s1">&#39; Valor_UF &#39;</span><span class="p">]</span> <span class="c1"># Nuestra variable objetivo es  Unidad de Fomento (UF)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#divisi√≥n en conjunto de entrenamiento y test</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>

<span class="n">x_train</span><span class="p">,</span> <span class="n">x_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Set de entrenamiento: &quot;</span><span class="p">,</span> <span class="n">x_train</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Set de test: &quot;</span><span class="p">,</span> <span class="n">x_test</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Set de entrenamiento:  (690, 49)
Set de test:  (296, 49)
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="entrenar-modelos-de-machine-learning">
<h3>Entrenar modelos de Machine learning<a class="headerlink" href="#entrenar-modelos-de-machine-learning" title="Link to this heading">#</a></h3>
<section id="entrenamiento-decision-tree">
<h4>Entrenamiento Decision Tree<a class="headerlink" href="#entrenamiento-decision-tree" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">r2_score</span>
<span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestRegressor</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Inicializando el modelo</span>
<span class="n">dtr</span> <span class="o">=</span> <span class="n">DecisionTreeRegressor</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Entrenamiento del modelo</span>
<span class="n">dtr</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>#sk-container-id-5 {color: black;background-color: white;}#sk-container-id-5 pre{padding: 0;}#sk-container-id-5 div.sk-toggleable {background-color: white;}#sk-container-id-5 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-5 label.sk-toggleable__label-arrow:before {content: "‚ñ∏";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-5 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-5 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-5 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-5 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-5 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-5 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "‚ñæ";}#sk-container-id-5 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-5 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-5 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-5 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-5 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-5 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-5 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-5 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-5 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-5 div.sk-item {position: relative;z-index: 1;}#sk-container-id-5 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-5 div.sk-item::before, #sk-container-id-5 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-5 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-5 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-5 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-5 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-5 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-5 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-5 div.sk-label-container {text-align: center;}#sk-container-id-5 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-5 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-5" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>DecisionTreeRegressor(max_depth=5, random_state=42)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-5" type="checkbox" checked><label for="sk-estimator-id-5" class="sk-toggleable__label sk-toggleable__label-arrow">DecisionTreeRegressor</label><div class="sk-toggleable__content"><pre>DecisionTreeRegressor(max_depth=5, random_state=42)</pre></div></div></div></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Predicciones con el set de prueba</span>
<span class="n">prediccion_dtr</span> <span class="o">=</span> <span class="n">dtr</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">x_test</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Imprimimos predicciones</span>
<span class="n">prediccion_dtr</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ 9.69177143,  1.94347368,  5.80548889, 11.71455   ,  3.35825   ,
       15.21857143, 11.71455   ,  1.94347368,  6.629     ,  9.69177143,
       13.89      , 11.71455   , 20.14022222,  7.66089655,  3.35825   ,
       18.37534783, 26.93915385,  5.80548889,  7.66089655,  5.01680769,
        6.629     , 12.82755   ,  2.75167797,  2.75167797,  6.629     ,
       11.71455   ,  4.16434091, 32.1945    ,  5.01680769,  2.75167797,
       12.82755   , 16.43182353,  5.80548889, 20.14022222, 18.37534783,
        3.35825   , 29.87383333,  3.35825   , 11.71455   ,  3.35825   ,
        3.35825   ,  7.66089655,  9.69177143,  6.629     , 10.676     ,
       13.89      ,  9.69177143, 15.21857143, 10.676     ,  6.629     ,
        2.75167797, 12.82755   ,  1.94347368,  5.01680769, 12.82755   ,
        6.629     , 13.89      ,  4.16434091,  7.66089655, 20.14022222,
        5.01680769,  8.85592   , 29.87383333, 32.1945    ,  5.80548889,
       29.87383333, 22.12208333,  4.16434091,  5.01680769, 22.12208333,
        9.69177143, 26.93915385,  4.16434091,  1.94347368, 45.7225    ,
       10.676     ,  4.16434091,  1.94347368,  4.16434091,  1.94347368,
        8.85592   , 15.21857143,  5.01680769,  9.69177143,  3.35825   ,
       18.37534783, 29.87383333,  4.16434091,  2.75167797, 20.14022222,
        6.629     ,  1.94347368,  4.16434091,  9.69177143,  9.69177143,
        5.01680769,  9.69177143,  5.01680769,  7.66089655, 24.20704762,
       20.14022222,  3.35825   , 12.82755   , 29.87383333, 13.89      ,
        6.629     ,  7.66089655, 18.37534783,  3.35825   , 20.14022222,
       10.676     ,  1.94347368,  7.66089655, 26.93915385,  9.69177143,
        3.35825   ,  3.35825   , 12.82755   ,  6.629     ,  8.85592   ,
       16.43182353, 10.676     ,  7.66089655,  6.629     ,  8.85592   ,
        1.94347368, 12.82755   , 39.0098    ,  1.94347368,  5.80548889,
       13.89      , 13.89      , 24.20704762, 24.20704762,  2.75167797,
       39.0098    ,  5.01680769,  5.80548889, 18.37534783, 32.1945    ,
        7.66089655, 10.676     , 11.71455   , 39.0098    , 18.37534783,
        4.16434091,  4.16434091,  8.85592   , 22.12208333,  7.66089655,
        1.94347368,  6.629     , 32.1945    , 13.89      , 12.82755   ,
       10.676     ,  4.16434091,  4.16434091,  2.75167797, 29.87383333,
        1.94347368,  7.66089655,  5.80548889,  6.629     ,  9.69177143,
        3.35825   ,  4.16434091,  6.629     , 16.43182353, 13.89      ,
       11.71455   , 12.82755   , 26.93915385,  5.01680769, 12.82755   ,
        1.94347368, 18.37534783,  6.629     ,  9.69177143,  7.66089655,
        1.94347368, 15.21857143,  8.85592   , 18.37534783,  1.94347368,
        5.80548889, 32.1945    ,  9.69177143, 12.82755   ,  5.80548889,
        4.16434091,  7.66089655,  4.16434091,  1.94347368, 16.43182353,
       18.37534783,  1.94347368, 18.37534783,  2.75167797, 24.20704762,
        3.35825   , 10.676     ,  2.75167797, 12.82755   , 26.93915385,
        2.75167797, 50.495     , 16.43182353,  5.80548889,  6.629     ,
       24.20704762, 18.37534783, 16.43182353, 26.93915385,  6.629     ,
        6.629     ,  5.01680769,  6.629     ,  2.75167797,  5.80548889,
        5.80548889, 11.71455   ,  4.16434091, 42.66333333, 11.71455   ,
       18.37534783,  1.94347368,  3.35825   , 10.676     ,  4.16434091,
       34.93666667,  5.80548889,  2.75167797,  1.94347368,  7.66089655,
       11.71455   ,  1.94347368, 29.87383333,  3.35825   , 12.82755   ,
        6.629     ,  4.16434091,  8.85592   ,  1.94347368,  6.629     ,
       22.12208333, 16.43182353, 13.89      , 20.14022222,  4.16434091,
        7.66089655,  8.85592   , 15.21857143,  8.85592   ,  5.01680769,
       10.676     , 29.87383333,  4.16434091,  5.80548889, 22.12208333,
       13.89      ,  6.629     , 18.37534783,  2.75167797,  9.69177143,
        4.16434091, 20.14022222,  4.16434091,  6.629     , 13.89      ,
        4.16434091,  1.94347368,  5.80548889,  5.01680769, 24.20704762,
       13.89      ,  2.75167797,  6.629     ,  4.16434091,  8.85592   ,
        7.66089655, 50.495     ,  4.16434091,  7.66089655, 22.12208333,
       13.89      ,  6.629     ,  3.35825   , 16.43182353,  1.94347368,
       15.21857143,  4.16434091,  7.66089655, 11.71455   ,  8.85592   ,
       16.43182353])
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualizar-el-error-de-predicciones">
<h4>Visualizar el error de predicciones<a class="headerlink" href="#visualizar-el-error-de-predicciones" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">yellowbrick.regressor</span> <span class="kn">import</span> <span class="n">PredictionError</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">pev</span> <span class="o">=</span> <span class="n">PredictionError</span><span class="p">(</span><span class="n">dtr</span><span class="p">)</span>
<span class="n">pev</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">pev</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">x_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)</span>
<span class="n">pev</span><span class="o">.</span><span class="n">poof</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/local/lib/python3.10/dist-packages/sklearn/base.py:439: UserWarning: X does not have valid feature names, but DecisionTreeRegressor was fitted with feature names
  warnings.warn(
</pre></div>
</div>
<img alt="_images/71374e05568cb2fbf2ce23c3cb9e7105266d04d686656fd625d568d6d80d153b.png" src="_images/71374e05568cb2fbf2ce23c3cb9e7105266d04d686656fd625d568d6d80d153b.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: title={&#39;center&#39;: &#39;Prediction Error for DecisionTreeRegressor&#39;}, xlabel=&#39;$y$&#39;, ylabel=&#39;$\\hat{y}$&#39;&gt;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Revisemos la m√©trica de r^2</span>
<span class="n">r2_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">prediccion_dtr</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.9970209956128195
</pre></div>
</div>
</div>
</div>
</section>
<section id="realicemos-un-analisis-de-relevancia">
<h4>Realicemos un an√°lisis de relevancia<a class="headerlink" href="#realicemos-un-analisis-de-relevancia" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Obteniendo la importancia de las caracter√≠sticas</span>
<span class="n">importancias</span> <span class="o">=</span> <span class="n">dtr</span><span class="o">.</span><span class="n">feature_importances_</span>

<span class="c1"># Nombres de las caracter√≠sticas (asumiendo que x tiene nombres de columnas)</span>
<span class="n">nombres_caracteristicas</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">columns</span>

<span class="c1"># Ordenamos las caracter√≠sticas por importancia (de mayor a menor)</span>
<span class="n">indices_ordenados</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">importancias</span><span class="p">)[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># Visualizaci√≥n de la importancia de las caracter√≠sticas</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Importancia de las Caracter√≠sticas&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">importancias</span><span class="p">[</span><span class="n">indices_ordenados</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

<span class="c1"># A√±adir nombres de las caracter√≠sticas como etiquetas en el eje x</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">nombres_caracteristicas</span><span class="p">[</span><span class="n">indices_ordenados</span><span class="p">],</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Importancia&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Caracter√≠sticas&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/2aabed1894dee4ccba5098e3f003c4ad4d3f409aadbc011441663376180ff3a7.png" src="_images/2aabed1894dee4ccba5098e3f003c4ad4d3f409aadbc011441663376180ff3a7.png" />
</div>
</div>
</section>
<section id="entrenamiento-random-forest">
<h4>Entrenamiento Random Forest<a class="headerlink" href="#entrenamiento-random-forest" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Definamos el modelo a usar</span>
<span class="n">rf</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">n_estimators</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Entrenemos el modelo</span>
<span class="n">rf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>#sk-container-id-6 {color: black;background-color: white;}#sk-container-id-6 pre{padding: 0;}#sk-container-id-6 div.sk-toggleable {background-color: white;}#sk-container-id-6 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-6 label.sk-toggleable__label-arrow:before {content: "‚ñ∏";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-6 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-6 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-6 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-6 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-6 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-6 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "‚ñæ";}#sk-container-id-6 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-6 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-6 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-6 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-6 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-6 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-6 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-6 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-6 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-6 div.sk-item {position: relative;z-index: 1;}#sk-container-id-6 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-6 div.sk-item::before, #sk-container-id-6 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-6 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-6 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-6 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-6 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-6 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-6 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-6 div.sk-label-container {text-align: center;}#sk-container-id-6 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-6 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-6" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>RandomForestRegressor(max_depth=5, n_estimators=10, random_state=42)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-6" type="checkbox" checked><label for="sk-estimator-id-6" class="sk-toggleable__label sk-toggleable__label-arrow">RandomForestRegressor</label><div class="sk-toggleable__content"><pre>RandomForestRegressor(max_depth=5, n_estimators=10, random_state=42)</pre></div></div></div></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Realicemos predicciones con el conjunto de test</span>
<span class="n">prediccion_rf</span> <span class="o">=</span> <span class="n">rf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">x_test</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Revisemos la gr√°fica de error de predicci√≥n</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">pev</span> <span class="o">=</span> <span class="n">PredictionError</span><span class="p">(</span><span class="n">rf</span><span class="p">)</span>
<span class="n">pev</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">pev</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">x_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)</span>
<span class="n">pev</span><span class="o">.</span><span class="n">poof</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/local/lib/python3.10/dist-packages/sklearn/base.py:439: UserWarning: X does not have valid feature names, but RandomForestRegressor was fitted with feature names
  warnings.warn(
</pre></div>
</div>
<img alt="_images/e4093c1ff8e8cd21c7234ddca07124fa6592c0599f5f397acc047cdbce7aaeab.png" src="_images/e4093c1ff8e8cd21c7234ddca07124fa6592c0599f5f397acc047cdbce7aaeab.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: title={&#39;center&#39;: &#39;Prediction Error for RandomForestRegressor&#39;}, xlabel=&#39;$y$&#39;, ylabel=&#39;$\\hat{y}$&#39;&gt;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Analicemos la m√©trica de r^2</span>
<span class="n">r2_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">prediccion_rf</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.9989933865704962
</pre></div>
</div>
</div>
</div>
</section>
<section id="realicemos-analisis-de-relevancia-del-modelo">
<h4>Realicemos an√°lisis de relevancia del modelo<a class="headerlink" href="#realicemos-analisis-de-relevancia-del-modelo" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Obteniendo la importancia de las caracter√≠sticas</span>
<span class="n">importancias</span> <span class="o">=</span> <span class="n">rf</span><span class="o">.</span><span class="n">feature_importances_</span>

<span class="c1"># Nombres de las caracter√≠sticas (asumiendo que x tiene nombres de columnas)</span>
<span class="n">nombres_caracteristicas</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">columns</span>

<span class="c1"># Ordenamos las caracter√≠sticas por importancia (de mayor a menor)</span>
<span class="n">indices_ordenados</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">importancias</span><span class="p">)[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># Visualizaci√≥n de la importancia de las caracter√≠sticas</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Importancia de las Caracter√≠sticas&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">importancias</span><span class="p">[</span><span class="n">indices_ordenados</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

<span class="c1"># A√±adir nombres de las caracter√≠sticas como etiquetas en el eje x</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">nombres_caracteristicas</span><span class="p">[</span><span class="n">indices_ordenados</span><span class="p">],</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Importancia&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Caracter√≠sticas&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/742039e1ea29e3551bc677a577ca3b6a4eee02007c82ba2b57302eeb8dc54091.png" src="_images/742039e1ea29e3551bc677a577ca3b6a4eee02007c82ba2b57302eeb8dc54091.png" />
</div>
</div>
</section>
</section>
</section>
<section id="actividad">
<h2>Actividad<a class="headerlink" href="#actividad" title="Link to this heading">#</a></h2>
<p>Probemos eliminando la variable con m√°s relevancia de la base de datos y re-entrenemos los modelos para ver su comportamiento‚Ä¶</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="oferta_cursos.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Oferta de cursos</p>
      </div>
    </a>
    <a class="right-next"
       href="Gracias.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">¬°Gracias por su atenci√≥n!</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comandos-basicos-de-python">Comandos b√°sicos de Python</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-practico-procesemos-algo-con-pandas">Ejercicio Pr√°ctico: Procesemos algo con Pandas</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#carguemos-una-base-de-datos">Carguemos una base de datos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#limpieza-de-datos">Limpieza de datos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-de-datos-en-python">Visualizaci√≥n de datos en python</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#barras">Barras</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#histograma">Histograma</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#torta">Torta</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#scatter-de-caracteristicas">Scatter de caracteristicas</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-de-datos-geograficos">Visualizaci√≥n de datos geogr√°ficos</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-de-correlacion-de-las-variables">An√°lisis de correlaci√≥n de las variables</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#visualicemos-un-poco-mejor-esto">Visualicemos un poco mejor esto</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#preparemos-todo-para-entrenar-un-modelo-de-ml">Preparemos todo para entrenar un modelo de ML</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#transformacion-de-columnas-categoricas">Transformaci√≥n de columnas categoricas</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dividamos-caracteristicas-y-variable-objetivo">Dividamos Caracteristicas y Variable Objetivo</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#entrenar-modelos-de-machine-learning">Entrenar modelos de Machine learning</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#entrenamiento-decision-tree">Entrenamiento Decision Tree</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizar-el-error-de-predicciones">Visualizar el error de predicciones</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#realicemos-un-analisis-de-relevancia">Realicemos un an√°lisis de relevancia</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#entrenamiento-random-forest">Entrenamiento Random Forest</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#realicemos-analisis-de-relevancia-del-modelo">Realicemos an√°lisis de relevancia del modelo</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#actividad">Actividad</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Reinel Tabares Soto
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      ¬© Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>